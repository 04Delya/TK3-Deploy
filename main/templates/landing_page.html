{% extends "base.html" %}
{% load static %}

{% block title %}Landing Page - Pet Clinic{% endblock %}

{% block content %}
  <!-- HERO -->
  <section class="py-20 bg-gray3">
    <div class="container mx-auto px-6 lg:px-14 flex flex-col-reverse lg:flex-row items-center gap-12">
      <div class="lg:w-1/2 space-y-6">
        <h1 class="text-5xl md:text-6xl font-bold">
          Building a Better Future<br/>for Your Pet
        </h1>
        <p class="text-lg md:text-xl">
          Kami hadir untuk memastikan setiap hewan peliharaan mendapatkan perawatan terbaik dari konsultasi, vaksinasi, hingga perawatan darurat.
        </p>

        {% if request.session.role %}
          <a href="{% url 'main:dashboard' %}"
             class="inline-block px-8 py-3 bg-primary text-white rounded-full font-medium hover:bg-primary/90">
            Menuju Dashboard
          </a>
        {% else %}
          <a href="{% url 'authentication:login' %}"
             class="inline-block px-8 py-3 bg-primary text-white rounded-full font-medium hover:bg-primary/90">
            Login Sekarang
          </a>
        {% endif %}
      </div>
      <div class="lg:w-1/2">
        <img src="{% static 'images/dokter_hewan_1.svg' %}"
             alt="Veterinarians with cat"
             class="w-full h-auto rounded-xl" />
      </div>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="services" class="py-16 bg-white">
    <div class="container mx-auto px-6 lg:px-14 text-center">
      <h2 class="text-4xl md:text-5xl font-bold mb-12">Discover What Your Pet Needs</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="p-6 bg-blue3 text-white rounded-2xl shadow-md">
          <img src="{% static 'images/parasite_control.svg' %}" alt="Parasite control" class="mx-auto mb-4 w-16 h-16" />
          <h3 class="text-2xl font-semibold mb-2">Pemeriksaan Kesehatan</h3>
          <p class="text-sm">Deteksi dini gangguan umum seperti demam, muntah, luka ringan, dan perubahan perilaku.</p>
        </div>
        <div class="p-6 bg-blue3 text-white rounded-2xl shadow-md">
          <img src="{% static 'images/dental_care.svg' %}" alt="Dental care" class="mx-auto mb-4 w-16 h-16" />
          <h3 class="text-2xl font-semibold mb-2">Perawatan Gigi & Mulut</h3>
          <p class="text-sm">Bersihkan karang gigi, obati bau mulut, dan cegah infeksi gusi pada kucing dan anjing.</p>
        </div>
        <div class="p-6 bg-blue3 text-white rounded-2xl shadow-md">
          <img src="{% static 'images/flea_treatment.svg' %}" alt="Flea treatment" class="mx-auto mb-4 w-16 h-16" />
          <h3 class="text-2xl font-semibold mb-2">Pengobatan Kutu & Parasit</h3>
          <p class="text-sm">Penanganan kutu, tungau, dan cacing yang sering menyerang hewan peliharaan di lingkungan tropis.</p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- HOW IT WORKS -->
  <section id="how-it-works" class="py-16 bg-gray3">
    <div class="container mx-auto px-6 lg:px-14">
      <h2 class="text-4xl md:text-5xl font-bold text-center mb-4">How It Works</h2>
      <p class="text-center mb-12 text-gray-600">Dengan proses yang cepat, aman, dan profesional untuk kenyamanan hewan kesayangan Anda.</p>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
         <div class="bg-gray2 p-6 rounded-2xl shadow flex items-center justify-between">
            <div class="max-w-xs">
              <h3 class="font-semibold text-xl mb-2">Pilih Tipe Kunjungan</h3>
              <p class="text-sm">Pilih antara Janji Temu, Walk-In, atau Kunjungan Darurat.</p>
            </div>
            <img src="{% static 'images/dokter_hewan_2.svg' %}" alt="Choose visit type"
                class="w-24 h-24 object-contain" />
          </div>

          <div class="bg-gray2 p-6 rounded-2xl shadow flex justify-between items-end">
            <div class="pr-4">
              <h3 class="font-semibold text-xl mb-2">Booking Online atau Langsung Datang</h3>
              <p class="text-sm">Reservasi jadwal dokter melalui aplikasi atau datang langsung ke klinik kami.</p>
            </div>
            <img src="{% static 'images/klien_megang_hp.svg' %}" alt="Book online"
                class="w-24 h-24 object-contain" />
          </div>

          <div class="bg-gray2 p-6 rounded-2xl shadow flex justify-between items-end">
            <div class="pr-4">
              <h3 class="font-semibold text-xl mb-2">Dapatkan Perawatan Terbaik</h3>
              <p class="text-sm mb-2">Hewan kesayanganmu dirawat oleh dokter berpengalaman.</p>
            </div>
            <img src="{% static 'images/dokter_kelinci.svg' %}" alt="Get best care"
                class="w-24 h-24 object-contain" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- TESTIMONIAL -->
  <section id="testimonials" class="py-16 bg-white">
    <div class="container mx-auto px-6 lg:px-14 text-center">
      <h2 class="text-4xl md:text-5xl font-bold mb-6">Apa Kata Klien Kami?</h2>
      <p class="text-center mb-10 text-gray-600">
        Testimoni dari pemilik hewan yang telah merasakan layanan Pet Clinic - 03.
      </p>

      <div class="relative max-w-3xl mx-auto">
        <div id="testimonial-slider" class="bg-blue4 rounded-xl p-8 mb-4 transition duration-300 ease-in-out">
          <blockquote id="testimonial-text" class="italic text-lg">
            <!-- Konten awal diisi lewat JS -->
          </blockquote>
        </div>

        <div class="flex justify-center items-center gap-2 mb-6">
          <button class="indicator w-8 h-8 rounded-full bg-blue4" data-index="0"></button>
          <button class="indicator w-10 h-10 rounded-full bg-primary" data-index="1"></button>
          <button class="indicator w-8 h-8 rounded-full bg-blue4" data-index="2"></button>
        </div>

        <button onclick="prevTestimonial()" class="absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-6 w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center shadow-md">
          <span class="sr-only">Previous</span>
          &lt;
        </button>
        <button onclick="nextTestimonial()" class="absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-6 w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center shadow-md">
          <span class="sr-only">Next</span>
          &gt;
        </button>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-16 bg-gray3">
    <div class="container mx-auto px-6 lg:px-14">
      <h2 class="text-4xl md:text-5xl font-bold text-center mb-12">FAQ</h2>
      <div class="space-y-4 max-w-3xl mx-auto">
        
        <div class="rounded-xl shadow overflow-hidden">
          <button onclick="toggleFaq(0)" class="w-full text-left bg-primary text-white px-6 py-4 font-medium flex justify-between items-center">
            <span>Apa saja tipe kunjungan yang tersedia?</span>
            <span class="ml-2">&#9660;</span>
          </button>
          <div id="faq-desc-0" class="hidden bg-blue4 text-sm text-black px-6 py-4">
            Kami menyediakan tiga jenis kunjungan: <strong>Janji Temu</strong> (booking melalui aplikasi), <strong>Walk-In</strong> (langsung datang), dan <strong>Layanan Darurat 24/7</strong> untuk kondisi kritis.
          </div>
        </div>

        <div class="rounded-xl shadow overflow-hidden">
          <button onclick="toggleFaq(1)" class="w-full text-left bg-primary text-white px-6 py-4 font-medium flex justify-between items-center">
            <span>Bagaimana metode pembayarannya?</span>
            <span class="ml-2">&#9660;</span>
          </button>
          <div id="faq-desc-1" class="hidden bg-blue4 text-sm text-black px-6 py-4">
            Anda bisa membayar secara <strong>tunai di klinik</strong>, <strong>transfer bank</strong>, atau menggunakan <strong>e-wallet</strong> yang terhubung dengan sistem aplikasi kami.
          </div>
        </div>

        <div class="rounded-xl shadow overflow-hidden">
          <button onclick="toggleFaq(2)" class="w-full text-left bg-primary text-white px-6 py-4 font-medium flex justify-between items-center">
            <span>Apakah tersedia layanan antar jemput hewan?</span>
            <span class="ml-2">&#9660;</span>
          </button>
          <div id="faq-desc-2" class="hidden bg-blue4 text-sm text-black px-6 py-4">
            Ya! Kami menyediakan <strong>layanan antar jemput</strong> untuk wilayah tertentu. Anda bisa menjadwalkan penjemputan saat melakukan reservasi via aplikasi.
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    const testimonials = [
      "“Pengalaman yang luar biasa, dokternya sabar dan pelayanannya cepat. Kucing saya sehat kembali dalam seminggu!”",
      "“Layanan yang sangat profesional dan staf yang ramah. Anjing saya langsung akrab dengan dokter di sana.”",
      "“Proses booking sangat mudah dan cepat. Tempatnya juga bersih dan nyaman untuk hewan peliharaan.”"
    ];

    let currentIndex = 0;

    function updateTestimonial() {
      document.getElementById("testimonial-text").textContent = testimonials[currentIndex];
      
      document.querySelectorAll('.indicator').forEach((btn, idx) => {
        btn.classList.remove('w-10', 'h-10', 'bg-primary');
        btn.classList.add('w-8', 'h-8', 'bg-blue4');
        if (idx === currentIndex) {
          btn.classList.remove('w-8', 'h-8', 'bg-blue4');
          btn.classList.add('w-10', 'h-10', 'bg-primary');
        }
      });
    }

    function nextTestimonial() {
      currentIndex = (currentIndex + 1) % testimonials.length;
      updateTestimonial();
    }

    function prevTestimonial() {
      currentIndex = (currentIndex - 1 + testimonials.length) % testimonials.length;
      updateTestimonial();
    }

    // Init
    document.addEventListener("DOMContentLoaded", () => {
      updateTestimonial();
      document.querySelectorAll('.indicator').forEach(btn => {
        btn.addEventListener('click', () => {
          currentIndex = parseInt(btn.dataset.index);
          updateTestimonial();
        });
      });
    });
  </script>

  <script>
    function toggleFaq(index) {
      const item = document.getElementById(`faq-desc-${index}`);
      item.classList.toggle("hidden");
    }
  </script>
{% endblock %}